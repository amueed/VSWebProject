var sprintf=function(){var t=null;function i(n){return Object.prototype.toString.call(n).slice(8,-1).toLowerCase()}function r(n,t){for(var i=[];t>0;i[--t]=n);return i.join("")}var n=function(){return n.cache.hasOwnProperty(arguments[0])||(n.cache[arguments[0]]=n.parse(arguments[0])),n.format.call(t,n.cache[arguments[0]],arguments)};return n.format=function(n,t){for(var a=1,y=n.length,h="",u,c=[],o,f,s,l,v,e=0;e<y;e++)if(h=i(n[e]),h==="string")c.push(n[e]);else if(h==="array"){if(f=n[e],f[2])for(u=t[a],o=0;o<f[2].length;o++){if(!u.hasOwnProperty(f[2][o]))throw sprintf('[sprintf] property "%s" does not exist',f[2][o]);u=u[f[2][o]]}else u=f[1]?t[f[1]]:t[a++];if(/[^s]/.test(f[8])&&i(u)!="number")throw sprintf("[sprintf] expecting number but found %s",i(u));switch(f[8]){case"b":u=u.toString(2);break;case"c":u=String.fromCharCode(u);break;case"d":u=parseInt(u,10);break;case"e":u=f[7]?u.toExponential(f[7]):u.toExponential();break;case"f":u=f[7]?parseFloat(u).toFixed(f[7]):parseFloat(u);break;case"o":u=u.toString(8);break;case"s":u=(u=String(u))&&f[7]?u.substring(0,f[7]):u;break;case"u":u=Math.abs(u);break;case"x":u=u.toString(16);break;case"X":u=u.toString(16).toUpperCase()}u=/[def]/.test(f[8])&&f[3]&&u>=0?"+"+u:u,l=f[4]?f[4]=="0"?"0":f[4].charAt(1):" ",v=f[6]-String(u).length,s=f[6]?r(l,v):"",c.push(f[5]?u+s:s+u)}return c.join("")},n.cache={},n.parse=function(n){var s="[sprintf] huh?";for(var u=n,i=[],e=[],h=0;u;){if((i=/^[^\x25]+/.exec(u))!==t)e.push(i[0]);else if((i=/^\x25{2}/.exec(u))!==t)e.push("%");else if((i=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(u))!==t){if(i[2]){h|=1;var o=[],f=i[2],r=[];if((r=/^([a-z_][a-z_\d]*)/i.exec(f))!==t)for(o.push(r[1]);(f=f.substring(r[0].length))!=="";)if((r=/^\.([a-z_][a-z_\d]*)/i.exec(f))!==t)o.push(r[1]);else if((r=/^\[(\d+)\]/.exec(f))!==t)o.push(r[1]);else throw s;else throw s;i[2]=o}else h|=2;if(h===3)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";e.push(i)}else throw s;u=u.substring(i[0].length)}return e},n}(),vsprintf=function(n,t){return t.unshift(n),sprintf.apply(null,t)};